console.log('This is your todo list!!');
document.addEventListener('DOMContentLoaded', function(){
    const message: HTMLParagraphElement=document.createElement('p');
    message.textContent = 'Welcome to your todo list!!';
    document.body.appendChild(message);
});



document.addEventListener('DOMContentLoaded',function(){

    const input: HTMLInputElement = document.createElement('input');
    input.type = 'text';
    input.placeholder = 'Type a thing to do!!';
    document.body.appendChild(input);
    
    //Allow users to put the number of times they want ot complete the task
    const times: HTMLInputElement = document.createElement('input');
    times.type = 'number';
    times.placeholder = 'How many time do you want to finish';
    document.body.appendChild(times);

    const button: HTMLButtonElement = document.createElement('button');
    button.textContent = 'Click to Add'
    document.body.appendChild(button);

    const list: HTMLUListElement = document.createElement('ul');
    document.body.appendChild(list);
    

    const doneList: Array<{things:string}>=[];

    
    

    button.addEventListener('click', ()=>{
        
        if(typeof input.value === 'string'){
            const todolist: HTMLElement = document.createElement('li');
            todolist.textContent = input.value;
            list.appendChild(todolist);
            

            //atach times to the todo lists
            const ftimes: HTMLSpanElement= document.createElement('span')
            ftimes.textContent = times.value;
            todolist.appendChild(ftimes);


            //empty the list
            input.value='';
            times.value='';

            const xbutton: HTMLButtonElement = document.createElement('button');
            xbutton.textContent = 'finished'
            todolist.appendChild(xbutton);


            xbutton.addEventListener('click', ()=>{
                
                let timesint = parseInt(ftimes.textContent||'0', 10)-1
                ftimes.textContent=timesint.toString();
                if(timesint<=0){
                    doneList.push({things:input.value});
                    list.removeChild(todolist);
                    displayDoneTasks();
                }
            })
            
            
        }
    })

   
    
    function displayDoneTasks(){
        const doneSection:HTMLElement = document.createElement('div');
        doneSection.textContent='Finished Tasks:';
        document.body.appendChild(doneSection);
        
        const doneListElement:HTMLUListElement = document.createElement('ul');
        doneSection.appendChild(doneListElement);
        
        doneList.forEach(task=>{
            const doneTask: HTMLElement=document.createElement('li');
            doneTask.textContent = `Task-> ${task.things}`;
            doneListElement.appendChild(doneTask)
        })
    }
    
    // function shoppingList(){
        //     const productName: string|null = prompt("Enter the product name:");
        //     const productAmount: number = amountInput!==null? parseInt(amountInput,20):0;
        
        //     if(productName!==null&&!isNaN(productAmount)){
            //         shopping.addItem(productName,productAmount);
            //         shopping.displayItems()
            //     }
            // }
            
            
            
            
        })
        
        
        
        
        
        document.addEventListener('DOMContentLoaded',function(){
            
            class Shopping{
                private items:[string,number][]=[];
        
                addItem(product: string, amount: number){
                    this.items.push([product, amount]);
                }
        
                displayItems(){
                    const shoppingSection: HTMLElement=document.createElement('div');
                    shoppingSection.textContent='Your Shopping List';
                    document.body.appendChild(shoppingSection);
            
                    const shoppingListElement:HTMLUListElement=document.createElement('ul');
                    shoppingSection.appendChild(shoppingListElement);
            
                    this.items.forEach(item=>{
                        const shoppingItem: HTMLElement=document.createElement('li');
                        shoppingItem.textContent=`Product: ${item[0]} Quality:${item[1]}`;
                        shoppingListElement.appendChild(shoppingItem);
                    })
                    }
            }
            const shopping = new Shopping();
            const slist: HTMLUListElement = document.createElement('ul');
            document.body.appendChild(slist);
            const input: HTMLInputElement = document.createElement('input');
            input.type = 'text';
            input.placeholder = 'Type a thing to do!!';
            document.body.appendChild(input);
            
            const shoplist: HTMLElement = document.createElement('li');
            shoplist.textContent = input.value;
            slist.appendChild(shoplist);
            
            const times: HTMLInputElement = document.createElement('input');
            times.type = 'number';
            times.placeholder = 'How many time do you want to finish';
            document.body.appendChild(times);


            const ftimes: HTMLSpanElement= document.createElement('span')
            ftimes.textContent = times.value;
            shoplist.appendChild(ftimes);

            //atach times to the todo lists
            const pamount: HTMLSpanElement= document.createElement('span')
            pamount.textContent = times.value;
            shoplist.appendChild(ftimes);
        
            const shopButton: HTMLButtonElement = document.createElement('button');
            shopButton.textContent='ShoppingList'
            document.body.appendChild(shopButton);

            shopButton.addEventListener('click',()=>{
                if(input.value&&times.value){
                    shopping.addItem(input.value,parseInt(times.value,10))
                    shopping.displayItems();
                }
                
            })
    //Allow users to put the number of times they want ot complete the task

});





