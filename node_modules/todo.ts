console.log('This is your todo list!!');
document.addEventListener('DOMContentLoaded', function(){
    const message: HTMLParagraphElement=document.createElement('p');
    message.textContent = 'Welcome to your todo list!!';
    document.body.appendChild(message);
});

document.addEventListener('DOMContentLoaded',function(){

    const input: HTMLInputElement = document.createElement('input');
    input.type = 'text';
    input.placeholder = 'Type a thing to do!!';
    document.body.appendChild(input);
    
    //Allow users to put the number of times they want ot complete the task
    const times: HTMLInputElement = document.createElement('input');
    times.type = 'number';
    times.placeholder = '1';
    document.body.appendChild(times);

    const button: HTMLButtonElement = document.createElement('button');
    button.textContent = 'Click to Add'
    document.body.appendChild(button);

    const list: HTMLUListElement = document.createElement('ul');
    document.body.appendChild(list);
    

    button.addEventListener('click', ()=>{
        
        if(typeof input.value === 'string'){
            const todolist: HTMLElement = document.createElement('li');
            todolist.textContent = input.value;
            list.appendChild(todolist);

            //atach times to the todo lists
            const ftimes: HTMLSpanElement= document.createElement('span')
            ftimes.textContent = times.value;
            todolist.appendChild(ftimes);

            //empty the list
            input.value=''

            const xbutton: HTMLButtonElement = document.createElement('button');
            xbutton.textContent = 'finished'
            todolist.appendChild(xbutton);

            xbutton.addEventListener('click', ()=>{
                let timesint = parseInt(ftimes.textContent||'0', 10)-1
                ftimes.textContent=timesint.toString();
                if(timesint<=0){
                    list.removeChild(todolist);

                }
            })

        }
    })

    


})




